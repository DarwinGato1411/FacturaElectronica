<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="comprobanteCompraPago" language="groovy" pageWidth="211" pageHeight="400" columnWidth="171" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20">
	<property name="ireport.zoom" value="2.1435888100000047"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="detalle">
		<parameter name="id_cabecera" class="java.lang.Integer">
			<defaultValueExpression><![CDATA[]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[select * from detalle_compra dt, producto pr
where dt.id_producto=pr.id_producto and dt.id_cabecera=$P{id_cabecera}]]>
		</queryString>
		<field name="id_ingreso_prod" class="java.lang.Integer"/>
		<field name="id_cabecera" class="java.lang.Integer"/>
		<field name="id_producto" class="java.lang.Integer"/>
		<field name="iprod_cantidad" class="java.math.BigDecimal"/>
		<field name="iprod_descripcion" class="java.lang.String"/>
		<field name="iprod_subtotal" class="java.math.BigDecimal"/>
		<field name="iprod_total" class="java.math.BigDecimal"/>
		<field name="iprod_codigo_provee" class="java.lang.String"/>
		<field name="det_valor_inicial" class="java.math.BigDecimal"/>
		<field name="det_factor" class="java.math.BigDecimal"/>
		<field name="id_sub_categoria" class="java.lang.Integer"/>
		<field name="prod_codigo" class="java.lang.String"/>
		<field name="prod_nombre" class="java.lang.String"/>
		<field name="pord_costo_venta_ref" class="java.math.BigDecimal"/>
		<field name="pord_costo_venta_final" class="java.math.BigDecimal"/>
		<field name="prod_estado" class="java.lang.Integer"/>
		<field name="prod_trasnporte" class="java.math.BigDecimal"/>
		<field name="prod_iva" class="java.math.BigDecimal"/>
		<field name="prod_utilidad_normal" class="java.math.BigDecimal"/>
		<field name="prod_mano_obra" class="java.math.BigDecimal"/>
		<field name="prod_utilidad_preferencial" class="java.math.BigDecimal"/>
		<field name="prod_costo_preferencial" class="java.math.BigDecimal"/>
		<field name="prod_costo_preferencial_dos" class="java.math.BigDecimal"/>
		<field name="prod_costo_preferencial_tres" class="java.math.BigDecimal"/>
		<field name="prod_principal" class="java.lang.Integer"/>
		<field name="prod_abreviado" class="java.lang.String"/>
		<field name="prod_isprincipal" class="java.lang.Boolean"/>
		<field name="pord_costo_compra" class="java.math.BigDecimal"/>
		<field name="prod_qr" class="java.lang.Object"/>
		<field name="prod_cantidad_inicial" class="java.lang.Integer"/>
		<field name="prod_utilidad_dos" class="java.math.BigDecimal"/>
		<field name="prod_cant_minima" class="java.math.BigDecimal"/>
		<field name="prod_path_codbar" class="java.lang.String"/>
		<field name="prod_imprime_codbar" class="java.lang.Boolean"/>
		<field name="prod_graba_iva" class="java.lang.Boolean"/>
		<field name="prod_esproducto" class="java.lang.Boolean"/>
		<field name="prod_subsidio" class="java.math.BigDecimal"/>
		<field name="prod_tiene_subsidio" class="java.lang.String"/>
		<field name="prod_precio_sin_subsidio" class="java.math.BigDecimal"/>
		<field name="prod_glp" class="java.lang.String"/>
		<field name="prod_descripcion" class="java.lang.String"/>
		<field name="id_usuario" class="java.lang.Integer"/>
		<field name="id_parroquia" class="java.lang.Integer"/>
		<field name="prod_imagen" class="java.lang.String"/>
		<field name="prod_publicado" class="java.lang.Boolean"/>
		<field name="prod_servlet_url" class="java.lang.String"/>
		<field name="prod_espropina" class="java.lang.String"/>
		<field name="pord_costo_promedio_compra" class="java.math.BigDecimal"/>
		<field name="prod_fecha_registro" class="java.sql.Date"/>
		<field name="prod_factor_conversion" class="java.math.BigDecimal"/>
		<field name="prod_unidad_medida" class="java.lang.String"/>
		<field name="prod_unidad_conversion" class="java.lang.String"/>
		<field name="prod_esreceta" class="java.lang.Boolean"/>
	</subDataset>
	<parameter name="id_cabecera" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="detallePago" class="java.lang.Integer">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select * from cabecera_compra cb, detalle_compra dt, proveedores pro,amortizacion_compra ac
where pro.id_proveedor=cb.id_proveedor
and cb.id_cabecera=dt.id_cabecera
and cb.id_cabecera=ac.id_compra
and ac.id_amortizacion_compra=$P{detallePago}
and cb.id_cabecera=$P{id_cabecera} limit 1]]>
	</queryString>
	<field name="id_cabecera" class="java.lang.Integer"/>
	<field name="est_id_estado" class="java.lang.Integer"/>
	<field name="usu_id_usuario" class="java.lang.Integer"/>
	<field name="id_usuario" class="java.lang.Integer"/>
	<field name="id_estado" class="java.lang.Integer"/>
	<field name="cab_num_factura" class="java.lang.String"/>
	<field name="cab_fecha" class="java.sql.Date"/>
	<field name="cab_sub_total" class="java.math.BigDecimal"/>
	<field name="cab_iva" class="java.math.BigDecimal"/>
	<field name="cab_total" class="java.math.BigDecimal"/>
	<field name="cab_descripcion" class="java.lang.String"/>
	<field name="cab_estado" class="java.lang.String"/>
	<field name="cab_proveedor" class="java.lang.String"/>
	<field name="cab_clave_acceso" class="java.lang.String"/>
	<field name="cab_autorizacion" class="java.lang.String"/>
	<field name="cab_fecha_emision" class="java.sql.Date"/>
	<field name="cab_ruc_proveedor" class="java.lang.String"/>
	<field name="id_tipo_identificacion_compra" class="java.lang.Integer"/>
	<field name="id_proveedor" class="java.lang.Integer"/>
	<field name="drc_codigo_sustento" class="java.lang.String"/>
	<field name="cab_retencion_autori" class="java.lang.String"/>
	<field name="cab_trae_sri" class="java.lang.Boolean"/>
	<field name="cab_homologado" class="java.lang.String"/>
	<field name="cab_sub_total_cero" class="java.math.BigDecimal"/>
	<field name="cab_establecimiento" class="java.lang.String"/>
	<field name="cab_punto_emi" class="java.lang.String"/>
	<field name="cab_saldo_factura" class="java.math.BigDecimal"/>
	<field name="id_ingreso_prod" class="java.lang.Integer"/>
	<field name="id_producto" class="java.lang.Integer"/>
	<field name="iprod_cantidad" class="java.math.BigDecimal"/>
	<field name="iprod_descripcion" class="java.lang.String"/>
	<field name="iprod_subtotal" class="java.math.BigDecimal"/>
	<field name="iprod_total" class="java.math.BigDecimal"/>
	<field name="iprod_codigo_provee" class="java.lang.String"/>
	<field name="det_valor_inicial" class="java.math.BigDecimal"/>
	<field name="det_factor" class="java.math.BigDecimal"/>
	<field name="prov_cedula" class="java.lang.String"/>
	<field name="prov_nombre" class="java.lang.String"/>
	<field name="prov_direccion" class="java.lang.String"/>
	<field name="prov_telefono" class="java.lang.String"/>
	<field name="prov_movil" class="java.lang.String"/>
	<field name="prov_correo" class="java.lang.String"/>
	<field name="prov_pagina" class="java.lang.String"/>
	<field name="prov_banco" class="java.lang.String"/>
	<field name="prov_tipo_cuenta" class="java.lang.String"/>
	<field name="prov_numero_cuenta" class="java.lang.String"/>
	<field name="prov_nom_comercial" class="java.lang.String"/>
	<field name="id_amortizacion_compra" class="java.lang.Integer"/>
	<field name="id_compra" class="java.lang.Integer"/>
	<field name="det_valor" class="java.math.BigDecimal"/>
	<field name="det_fecha" class="java.sql.Date"/>
	<field name="det_dias" class="java.lang.Integer"/>
	<field name="det_observacion" class="java.lang.String"/>
	<title>
		<band height="215" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="39" width="66" height="16"/>
				<box leftPadding="2" rightPadding="2"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Dirección:]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="66" y="23" width="105" height="16"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{prov_nombre}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="66" y="39" width="105" height="16"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{prov_direccion}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="66" y="71" width="105" height="16"/>
				<textElement>
					<font size="10"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{prov_cedula}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="71" width="66" height="16"/>
				<box leftPadding="2" rightPadding="2"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[RUC:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="23" width="66" height="16"/>
				<box leftPadding="2" rightPadding="2"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Razon Social:]]></text>
			</staticText>
			<textField>
				<reportElement x="94" y="0" width="77" height="23"/>
				<box leftPadding="2"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["Nº: "+$F{cab_num_factura}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="66" y="55" width="105" height="16"/>
				<textElement>
					<font size="9"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{prov_correo}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="55" width="66" height="16"/>
				<box leftPadding="2" rightPadding="2"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Correo:]]></text>
			</staticText>
			<staticText>
				<reportElement style="table_TD" positionType="Float" mode="Transparent" x="0" y="0" width="94" height="23" isPrintWhenDetailOverflows="true" forecolor="#000000" backcolor="#FFFFFF"/>
				<box leftPadding="2" rightPadding="2">
					<pen lineWidth="0.0"/>
					<topPen lineWidth="0.0"/>
					<leftPen lineWidth="0.0"/>
					<bottomPen lineWidth="0.0"/>
					<rightPen lineWidth="0.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" rotation="None" lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="8" isBold="true" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="Helvetica" pdfEncoding="Cp1252" isPdfEmbedded="false"/>
				</textElement>
				<text><![CDATA[FACTURA DE COMPRA]]></text>
			</staticText>
			<line>
				<reportElement x="0" y="99" width="171" height="1"/>
				<graphicElement>
					<pen lineStyle="Dashed"/>
				</graphicElement>
			</line>
			<textField pattern="">
				<reportElement x="0" y="154" width="171" height="44"/>
				<textElement>
					<font size="9" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{det_observacion}!=null?$F{det_observacion}:""]]></textFieldExpression>
			</textField>
			<textField pattern="">
				<reportElement x="66" y="113" width="105" height="13"/>
				<textElement>
					<font size="9" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{det_fecha}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="127" width="66" height="13"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Abono:]]></text>
			</staticText>
			<textField pattern="###0.00;-###0.00">
				<reportElement x="66" y="127" width="105" height="13"/>
				<textElement>
					<font size="9" isBold="false"/>
				</textElement>
				<textFieldExpression class="java.lang.Double"><![CDATA[$F{det_valor}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="141" width="171" height="13"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Detalle Pago:]]></text>
			</staticText>
			<staticText>
				<reportElement x="0" y="113" width="66" height="13"/>
				<textElement>
					<font size="9" isBold="true"/>
				</textElement>
				<text><![CDATA[Fecha Pago:]]></text>
			</staticText>
		</band>
	</title>
</jasperReport>
